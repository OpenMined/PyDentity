import json

class Presentation():
    def __init__(self, verify):
        self.verify = verify

    def get_self_attested(self):
      data = {}
      for (name, val) in self.verify['presentation']['requested_proof']['self_attested_attrs'].items():
        data[name] = val['raw']
      return json.dumps(data)

    def get_revealed(self):
      data = {}
      for (name, val) in self.verify['presentation']['requested_proof']['revealed_attrs'].items():
          data[name] = val['raw']

      return json.dumps(data)

    def get_unrevealed_attrs(self):
      data = {}
      for (name, val) in self.verify['presentation']['requested_proof']['unrevealed_attrs'].items():
        data[name] = val['raw']
      return json.dumps(data)

    def get_predicates(self):
      data = {}
      for (name, val) in self.verify['presentation']['requested_proof']['predicates'].items():
        data[name] = val['raw']
      return json.dumps(data)

    def get_identifiers(self):
      return self.verify['presentation']['identifiers']

    def get_role(self):
      return(self.verify['role'])

    def get_threadid(self):
      return(self.verify['thread_id'])

    def get_presentation_request(self):
      return(self.verify['presentation_request'])

    def get_verified_state(self):
      return self.verify['state']

    def is_verified(self):
      # Assume the actual state of the verification is in   "verified": "true",
      return bool(self.verify['state'] == 'verified')

verify = {
  "presentation_exchange_id": "49baae24-57e0-48ad-8df8-adf0ea567c96",
  "presentation": {
    "proof": {
      "proofs": [
        {
          "primary_proof": {
            "eq_proof": {
              "revealed_attrs": {
                "skill": "24214165878429772374367858032287880675266648921286067519661391650938186682695"
              },
              "a_prime": "1033415114619819768944310028536365370231435574985508750118410342785969199949817784351475570843341809388843061861153553770127775767146311839364065700328785816338802461942717044348117034538702809196356532054625399657028628496244218240092302721703122768394377360662506482569803757237745048882468385946096529095444484560597800224079984232042168364219146094087612881702205001402438324194877845820031357799024120839795259548275102859561824748192763114131813938144297485302783964959731530225561430148084432450368389182245932447621128311635239906979185153062036023276467630014074782275403242787110500919329151128363075355513",
              "e": "91983472603907446540714519307862206256971991662270242374770275457159648187007268518346424032537315486322237375870710320337573576738398193",
              "v": "1302304380266292004376849962897381572360911258974941017474594429303845995495499903687487847431360457083601400300118540820594091866619929076535689779472040768130749224823510904560129499672290959443081825583724640731165625959885911450844539021922520470983791573529886699639607399814740110359327063070460763206635750132034441056428353063312013603660180231192638940731555545855335626200147074161183943478561590045848606279310473236464545146791348397334259313694935263281283342081849886376875797724708467296146929652463444955454661790720122869345815725369328972019207353967344389334929166341314323605032801912639976257882557969012082800737343372024689335776885957612076039692360915427423154299947432710169458304927971427688654401257370338872008093001161548186190419684533437740631254676533538040335486659526815499178580239943484255812036329204519389503188438136672734348324750531842595792565421626354237492278358808723082585736",
              "m": {
                "name": "11848256889159009951152027870772733734075325218059851164142853720393576774593490369998024318722480885566910151758584775433416496284552360954970185343235476244213482690179994712564",
                "age": "576173470008832642077970474648289652641946391607573924066915400430194837024527356810821891443757416544587900431553406633407508430413985401507894624688336131953236156612437499874",
                "master_secret": "11240955269076844568191327033178853216904347523928954802747891050802724825827240619730231551829556867332620967232420397280757074677833873006102498603848756267495855433485316191000"
              },
              "m2": "729496964745564394521443880276108523736151105477643920398543584472788774457372949697748426577702197664324225759836830535902515826253092148817109363295542"
            },
            "ge_proofs": []
          },
          "non_revoc_proof": {
            "x_list": {
              "rho": "04748B1CCA3D3766179ADE78C8E30E4910515B5A850FA0F8168A353943EDDABB",
              "r": "0A110104C0DF9B3DDBAA6A90DB3461171FC26AE26D5A9820B48BA4D3F3DF94D0",
              "r_prime": "0C0EE637C2FE5C5E7179FA9646B7024356B4755C7A0484A39DEEB48053857D41",
              "r_prime_prime": "020B65FD40CB05B2E9CD66FD15F728CCCAC2CE1182E57FD1B4210008F63F17EE",
              "r_prime_prime_prime": "07CDCC1AFFCC93205341041D7BD7AAB9785B639C3762D2BDE1E91F874FA3CE94",
              "o": "053587663383E39C499DEC34643FF6801937E0A39F4D4EB89967774710185A85",
              "o_prime": "1A6264FA1218B19CFD5A48757432019F19E0C9DB4C387059584DC8567A4CAB40",
              "m": "0958F851826B4ABBDA46B5A74B0CFDC35B930F4FB3F2C78A324A474A96A4D7DD",
              "m_prime": "1A330F84E85525B86F98E2EA594DCE682E5B0A9E427A88607EA3E1613E8E7DA6",
              "t": "18D4BE8B4D9E620F2308E740AAAA17760151FD01DBDFC3EFCA533C9367CEB81D",
              "t_prime": "1F5464F021E95D6951C9655D087C85586A741E617C734F60F6EABDF37AD60D75",
              "m2": "0A2C333504DB5B0AC55FF282464F86B51079DCB01A9CEABAB98D84868A9DE724",
              "s": "1DFF73789C1E426B0FD82A5A83F288A0F217C838F4298D0451EF5F34983106D3",
              "c": "0E8976422E3E4ADA18D0544B99528480B858D2B3EF30DFA77B3BEB7BB3A8B44D"
            },
            "c_list": {
              "e": "6 482F4FDB40CC34B604789BAF8834F5203F008DE7803FBA7D5863BE5961EA7609 4 345A7520AC4AD6A15E6467DD22006A4C5A2C822230E3E0E0B395A526DEA17FF0 4 325AAD683350A45E4D65349D34C5E0212E8B907CC9E7F0079A7FDA9742C9D5FE",
              "d": "6 43F865954C707E1C4FA39997FF5BB78141255F69FE0653BA541093369FBE2DD7 4 2DFC37DFF46842E5EC5BA16275FC4EF47587F9B687BEEF82D6E11A04C4456B9E 4 1D3BE78BC6222AFE44AA734AAC8CEFBEDC2985D3AE0108CA9DB9EDA2C54FDE23",
              "a": "6 4915FF6565AC29211D32E0F6A58B245E5D4D5AE71200241B6BC2C552FB02BD6B 4 3B88B9FEBDF5743334B811F8E0899DA74D0A013F4BDDA7EDCCC432FFA25C00FA 4 1AF91CA40E67B838C423F11A9D76F3A34445971F2E6EB2E45E280201175B38E5",
              "g": "6 51255D843EB9910CEFE7FB61DB3422B81511AB363BAE0B26B9AAB235A86A98C9 4 3950665EA1732AD17A83CFC017B04EF2BF5ABE6F7E0405CF39125B17CC4F31B0 4 21E29D9D55FABA0B7FBF458BDA1DD5FA53B4C30D3C6D1847A67969B972C6C64E",
              "w": "21 11BAC524A314401E2370CF756310B3751F0E74D56F831EF65F9A3867BB85D338F 21 1468F2EB11BF6C23E767648A2685AB753C30BB7DBEBC6C6840B490F85B6D563D1 6 8018C9B63E64954F784485871E87A3EC10A04ABA1BA08E613B24F519788C00FC 4 1FE50E3B453A7AAB654FB0978AA1DEA0944B6EE31E4311033C8520C16C64611F 6 5CE3D5069BA2DFC9A725E4CFDA71344E8F45BB3E1723F6BB75A34C87998AAD19 4 0D348BB90C1BEEE08AC176532DB1E9C24848947365517BFF837FF25C9BEB7ABB",
              "s": "21 13532F96F52BEB32D3362EABE940AAC5A1E0BED46C4E6A1ABACBC77004ABD7DC7 21 12E1675F7C9151371A187A24FBC86DBB61CC9403ED527CA9125BE86A2806916E8 6 4FA8020BF6C0AB61F0A4BF597DE3C5BEDFB91FBD96C3ED47E6B727FB385E0905 4 0EEFFB2B5DE47ECAC0C079AFA530B09DDCB5BC3578147812F98EFB2541BA0C93 6 72AE4E2DC55412CF5E2CDB157EC343C99D1B0F25362ACE608ED8172824CA3B5B 4 2135BC69377FDE3CB504A26B1F16BEB204B1CDAF0BCF24C780A9D25A9358C227",
              "u": "21 12878EBD0C3AC05982107CA517E010862B6EE9049495B5ECB2FBDFE71E8540EFA 21 11C29C149F565520F53CBEF59798F764B7FA66F1E8B0A16F70191CC0A767C7C07 6 689BEB1CD8669E52405CD089834AB5D63793FE63AD53199C57D409EE57D7DA6C 4 26C6BD3A0186CB777269CB5F4E6A9F4371EA67F2F1F84532B9A19F23E76D28D9 6 6265BE495470FE7CDF0C0BF247CE74FD2D19F399B73B872A07013C9DD617EF08 4 33B285701A48CCE6CE008EAD781FCAA1501160694CD02BD8617DA8CD5AB90F09"
            }
          }
        }
      ],
      "aggregated_proof": {
        "c_hash": "25291521316898047225259599562308228051625258923403979567617939363237527780804",
        "c_list": [
          [
            4,
            23,
            180,
            67,
            218,
            29,
            230,
            152,
            74,
            224,
            96,
            54,
            137,
            235,
            216,
            65,
            88,
            139,
            64,
            147,
            209,
            99,
            114,
            82,
            22,
            250,
            22,
            78,
            83,
            145,
            200,
            17,
            148,
            36,
            145,
            216,
            36,
            212,
            161,
            66,
            105,
            91,
            44,
            122,
            220,
            97,
            68,
            126,
            94,
            82,
            142,
            183,
            190,
            119,
            152,
            186,
            25,
            152,
            243,
            151,
            115,
            8,
            102,
            136,
            188,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          [
            4,
            24,
            213,
            152,
            59,
            118,
            101,
            63,
            43,
            189,
            138,
            249,
            113,
            60,
            160,
            212,
            37,
            31,
            183,
            244,
            203,
            224,
            169,
            132,
            175,
            65,
            89,
            96,
            155,
            101,
            168,
            106,
            178,
            12,
            161,
            79,
            252,
            209,
            112,
            142,
            9,
            38,
            61,
            123,
            46,
            73,
            105,
            54,
            175,
            135,
            212,
            248,
            243,
            132,
            243,
            15,
            255,
            141,
            79,
            139,
            169,
            53,
            33,
            177,
            125,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          [
            4,
            33,
            104,
            61,
            97,
            111,
            114,
            4,
            80,
            10,
            31,
            89,
            97,
            139,
            155,
            50,
            193,
            231,
            210,
            20,
            102,
            87,
            245,
            227,
            82,
            96,
            47,
            89,
            53,
            114,
            77,
            169,
            123,
            19,
            56,
            154,
            254,
            233,
            156,
            247,
            145,
            38,
            94,
            216,
            58,
            130,
            34,
            181,
            28,
            214,
            232,
            44,
            68,
            254,
            54,
            22,
            197,
            79,
            78,
            193,
            4,
            195,
            47,
            61,
            167,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          [
            4,
            18,
            102,
            249,
            252,
            201,
            162,
            114,
            126,
            169,
            75,
            40,
            89,
            254,
            59,
            56,
            27,
            48,
            244,
            91,
            217,
            184,
            114,
            110,
            119,
            158,
            218,
            244,
            152,
            165,
            250,
            137,
            102,
            16,
            164,
            160,
            33,
            125,
            126,
            249,
            69,
            50,
            40,
            232,
            121,
            181,
            42,
            169,
            104,
            190,
            51,
            105,
            187,
            128,
            100,
            27,
            2,
            152,
            81,
            222,
            6,
            106,
            132,
            73,
            68,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0,
            0
          ],
          [
            13,
            155,
            234,
            143,
            210,
            204,
            44,
            156,
            1,
            60,
            133,
            66,
            237,
            107,
            182,
            175,
            194,
            121,
            12,
            128,
            27,
            30,
            109,
            161,
            79,
            145,
            11,
            6,
            41,
            159,
            43,
            191,
            30,
            191,
            249,
            4,
            31,
            165,
            48,
            153,
            242,
            127,
            31,
            47,
            173,
            74,
            88,
            51,
            81,
            145,
            93,
            231,
            88,
            175,
            229,
            176,
            210,
            209,
            36,
            174,
            97,
            38,
            11,
            103,
            25,
            126,
            91,
            156,
            101,
            38,
            157,
            234,
            167,
            140,
            51,
            41,
            16,
            167,
            155,
            91,
            132,
            177,
            163,
            69,
            78,
            33,
            133,
            126,
            227,
            5,
            238,
            240,
            249,
            183,
            172,
            21,
            33,
            68,
            19,
            183,
            217,
            241,
            46,
            21,
            122,
            10,
            13,
            152,
            240,
            166,
            36,
            145,
            144,
            113,
            94,
            95,
            109,
            135,
            196,
            131,
            88,
            201,
            227,
            148,
            198,
            70,
            109,
            180
          ],
          [
            31,
            35,
            5,
            87,
            136,
            118,
            35,
            68,
            163,
            18,
            53,
            7,
            55,
            19,
            129,
            209,
            186,
            48,
            62,
            83,
            156,
            115,
            128,
            238,
            143,
            57,
            254,
            239,
            8,
            65,
            188,
            207,
            33,
            25,
            232,
            141,
            196,
            10,
            231,
            194,
            28,
            241,
            160,
            194,
            68,
            160,
            42,
            125,
            182,
            122,
            184,
            10,
            248,
            168,
            25,
            237,
            159,
            28,
            103,
            135,
            70,
            239,
            154,
            166,
            0,
            136,
            153,
            247,
            71,
            128,
            157,
            63,
            127,
            103,
            242,
            247,
            229,
            75,
            116,
            112,
            4,
            117,
            154,
            87,
            121,
            73,
            77,
            99,
            17,
            207,
            114,
            200,
            103,
            132,
            44,
            247,
            18,
            92,
            64,
            174,
            178,
            124,
            68,
            77,
            217,
            39,
            150,
            183,
            156,
            62,
            207,
            162,
            72,
            252,
            252,
            77,
            110,
            129,
            93,
            185,
            198,
            100,
            180,
            176,
            40,
            12,
            207,
            47
          ],
          [
            34,
            249,
            242,
            51,
            131,
            214,
            99,
            32,
            35,
            30,
            97,
            80,
            37,
            83,
            130,
            90,
            60,
            64,
            11,
            106,
            122,
            187,
            243,
            144,
            202,
            180,
            211,
            153,
            86,
            249,
            87,
            154,
            16,
            169,
            168,
            186,
            104,
            121,
            101,
            149,
            70,
            41,
            47,
            61,
            240,
            255,
            185,
            92,
            177,
            175,
            137,
            6,
            29,
            142,
            210,
            169,
            11,
            244,
            242,
            89,
            80,
            196,
            78,
            196,
            27,
            117,
            172,
            156,
            31,
            88,
            100,
            83,
            0,
            80,
            155,
            232,
            36,
            24,
            191,
            196,
            42,
            150,
            61,
            12,
            218,
            3,
            193,
            188,
            72,
            236,
            134,
            29,
            209,
            66,
            20,
            235,
            33,
            60,
            114,
            84,
            233,
            215,
            143,
            107,
            71,
            138,
            4,
            90,
            84,
            54,
            2,
            17,
            4,
            138,
            244,
            112,
            227,
            75,
            204,
            18,
            111,
            223,
            52,
            231,
            127,
            50,
            232,
            26
          ],
          [
            8,
            47,
            172,
            105,
            242,
            38,
            242,
            66,
            131,
            6,
            253,
            11,
            58,
            10,
            50,
            101,
            64,
            224,
            3,
            63,
            46,
            111,
            170,
            180,
            102,
            89,
            175,
            31,
            159,
            154,
            45,
            78,
            152,
            123,
            28,
            116,
            189,
            247,
            162,
            116,
            57,
            22,
            37,
            31,
            165,
            234,
            84,
            216,
            177,
            167,
            37,
            13,
            52,
            82,
            5,
            172,
            4,
            91,
            137,
            85,
            100,
            229,
            16,
            238,
            60,
            119,
            52,
            224,
            0,
            89,
            164,
            235,
            172,
            201,
            66,
            114,
            66,
            32,
            172,
            93,
            228,
            132,
            73,
            99,
            145,
            66,
            105,
            95,
            48,
            122,
            87,
            160,
            132,
            233,
            68,
            230,
            202,
            80,
            227,
            96,
            47,
            161,
            15,
            146,
            45,
            251,
            56,
            248,
            174,
            193,
            189,
            156,
            60,
            190,
            44,
            60,
            243,
            103,
            120,
            151,
            193,
            234,
            156,
            160,
            15,
            55,
            89,
            90,
            114,
            21,
            7,
            56,
            5,
            97,
            246,
            64,
            0,
            149,
            141,
            175,
            87,
            216,
            152,
            156,
            234,
            191,
            168,
            97,
            218,
            109,
            60,
            243,
            96,
            136,
            83,
            202,
            237,
            109,
            235,
            5,
            93,
            100,
            40,
            51,
            194,
            5,
            57,
            23,
            145,
            186,
            169,
            193,
            96,
            119,
            59,
            80,
            199,
            49,
            98,
            117,
            8,
            167,
            139,
            153,
            185,
            106,
            88,
            184,
            129,
            136,
            207,
            6,
            9,
            32,
            54,
            129,
            17,
            254,
            209,
            67,
            166,
            209,
            176,
            21,
            12,
            242,
            192,
            255,
            119,
            48,
            32,
            244,
            207,
            116,
            173,
            154,
            255,
            9,
            118,
            27,
            210,
            152,
            82,
            241,
            112,
            0,
            210,
            43,
            250,
            24,
            185,
            120,
            159,
            196,
            163,
            73,
            100,
            216,
            214,
            181,
            155,
            117,
            77,
            234,
            211,
            128,
            214,
            20,
            129,
            95,
            99,
            55,
            64,
            123,
            195,
            121
          ]
        ]
      }
    },
    "requested_proof": {
      "revealed_attrs": {
        "0_skill_uuid": {
          "sub_proof_index": 0,
          "raw": "researcher",
          "encoded": "24214165878429772374367858032287880675266648921286067519661391650938186682695"
        }
      },
      "self_attested_attrs": {},
      "unrevealed_attrs": {},
      "predicates": {}
    },
    "identifiers": [
      {
        "schema_id": "PQRXDxdGqQGSZ8z69p4xZP:2:test_revocable_schema:0.0.1",
        "cred_def_id": "PQRXDxdGqQGSZ8z69p4xZP:3:CL:14:default",
        "rev_reg_id": "PQRXDxdGqQGSZ8z69p4xZP:4:PQRXDxdGqQGSZ8z69p4xZP:3:CL:14:default:CL_ACCUM:24f4f2ad-0d38-4f46-b020-23eb3cbd0595",
        "timestamp": 1613564695
      }
    ]
  },
  "role": "verifier",
  "state": "verified",
  "thread_id": "bd8f8f25-8c1b-4d33-84a7-f8308f66f8ee",
  "presentation_request": {
    "name": "Proof of Personal Information",
    "version": "1.0",
    "requested_attributes": {
      "0_skill_uuid": {
        "name": "skill",
        "restrictions": [
          {
            "issuer_did": "PQRXDxdGqQGSZ8z69p4xZP"
          }
        ],
        "non_revoked": {
          "to": 1613564753
        }
      }
    },
    "requested_predicates": {},
    "non_revoked": {
      "to": 1613564754
    },
    "nonce": "305265485628154372345425"
  },
  "auto_present": "false",
  "created_at": "2021-02-17 12:25:54.426564Z",
  "updated_at": "2021-02-17 12:26:20.425670Z",
  "connection_id": "109db307-a733-41aa-a6bc-6101360dad5d",
  "verified": "true",
  "initiator": "self",
  "trace": "false",
  "presentation_request_dict": {
    "@type": "did:sov:BzCbsNYhMrjHiqZDTUASHg;spec/present-proof/1.0/request-presentation",
    "@id": "bd8f8f25-8c1b-4d33-84a7-f8308f66f8ee",
    "request_presentations~attach": [
      {
        "@id": "libindy-request-presentation-0",
        "mime-type": "application/json",
        "data": {
          "base64": "eyJuYW1lIjogIlByb29mIG9mIFBlcnNvbmFsIEluZm9ybWF0aW9uIiwgInZlcnNpb24iOiAiMS4wIiwgInJlcXVlc3RlZF9hdHRyaWJ1dGVzIjogeyIwX3NraWxsX3V1aWQiOiB7Im5hbWUiOiAic2tpbGwiLCAicmVzdHJpY3Rpb25zIjogW3siaXNzdWVyX2RpZCI6ICJQUVJYRHhkR3FRR1NaOHo2OXA0eFpQIn1dLCAibm9uX3Jldm9rZWQiOiB7InRvIjogMTYxMzU2NDc1M319fSwgInJlcXVlc3RlZF9wcmVkaWNhdGVzIjoge30sICJub25fcmV2b2tlZCI6IHsidG8iOiAxNjEzNTY0NzU0fSwgIm5vbmNlIjogIjMwNTI2NTQ4NTYyODE1NDM3MjM0NTQyNSJ9"
        }
      }
    ]
  }
}
presentation = Presentation(verify)

print(presentation.get_revealed())
print('\n')
print(presentation.get_presentation_request())
print('\n')
print(presentation.get_verified_state())
print('\n')
print(presentation.get_self_attested())
print('\n')
print(presentation.get_identifiers())
print('\n')
print(presentation.get_predicates())
print('\n')
print(presentation.get_role())
print('\n')
print(presentation.get_threadid())
print('\n')
print(presentation.get_unrevealed_attrs())
print('\n')
print(presentation.is_verified())

